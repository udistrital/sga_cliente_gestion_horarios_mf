<mat-card class="dialogo">
  <mat-card-header class="shadow">
    <div class="row mb-3">
      <div class="col-12 center-v center-h">
        <mat-icon color="primary">file_copy</mat-icon>
        <p class="ml-3 mb-0">
          <strong>{{
            "gestion_horarios.conflictos_copiado" | translate
          }}</strong
          ><br />{{ "gestion_horarios.mensaje_conflictos_copiado" | translate }}
        </p>
      </div>
    </div>
  </mat-card-header>
  <mat-card-content>
    <div class="alert info">
      <mat-icon class="icon">info</mat-icon>
      <span>{{ "gestion_horarios.info_conflictos_copiado" | translate }}</span>
    </div>
    <div class="row container mt-4 mb-4">
      <div class="col-6 center">
        <mat-icon color="primary">supervisor_account</mat-icon>
        <p class="ml-3 mb-0">
          <strong>{{ "gestion_horarios.grupo_estudio" | translate }}</strong
          ><br />{{ infoCopiado.grupoEstudio.Nombre }}
        </p>
      </div>
      <div class="col-6 center">
        <mat-icon color="primary">today</mat-icon>
        <p class="ml-3 mb-0">
          <strong>{{ "gestion_horarios.periodo" | translate }}</strong
          ><br />{{ infoCopiado.periodo.Nombre }}
        </p>
      </div>
    </div>
    <mat-divider></mat-divider>
    <table class="mt-1 mb-2" mat-table [dataSource]="colocaciones" matSort>
      <ng-container
        *ngFor="let columna of colocacionesContructorTabla"
        [matColumnDef]="columna.columnDef"
      >
        <th mat-header-cell *matHeaderCellDef>
          <ng-container>
            <div>
              <b>{{ columna.header | translate }}</b>
            </div>
          </ng-container>
        </th>

        <td mat-cell *matCellDef="let row">
          <ng-container
            *ngTemplateOutlet="
              cellTemplate;
              context: { $implicit: columna, row: row }
            "
          ></ng-container>
        </td>
        <ng-template #cellTemplate let-columna let-row="row">
          <ng-container [ngSwitch]="columna.columnDef">
            <div *ngSwitchCase="'conflictos'" class="center">
              <mat-progress-spinner
                *ngIf="row.verificandoConflictos"
                mode="indeterminate"
                diameter="20"
              ></mat-progress-spinner>
              <div *ngIf="!row.verificandoConflictos">
                <span *ngIf="row.conConflicto; else sinConflicto"
                  ><mat-icon style="color: var(--danger-base)"
                    >highlight_off</mat-icon
                  ></span
                >
                <ng-template #sinConflicto>
                  <span
                    ><mat-icon style="color: var(--success-accent)"
                      >check_circle_outline</mat-icon
                    ></span
                  >
                </ng-template>
              </div>
            </div>
            <div *ngSwitchCase="'ver_conflictos'" class="center">
              <div>
                <span *ngIf="row.conConflicto; else sinConflicto" class="link"
                  ><b>Ver</b></span
                >
                <ng-template #sinConflicto>
                  <span>-</span>
                </ng-template>
              </div>
            </div>
            <span *ngSwitchDefault>{{ columna.cell(row) }}</span>
          </ng-container>
        </ng-template>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="tablaColumnas"></tr>
      <tr mat-row *matRowDef="let row; columns: tablaColumnas"></tr>
    </table>
  </mat-card-content>
</mat-card>
