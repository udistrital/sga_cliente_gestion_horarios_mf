<div class="container">
  <h3 class="mt-4 mb-3">
    {{ "gestion_horarios.horario_espacio_academico" | translate }}
  </h3>
  <div>
    <table mat-table [dataSource]="colocaciones" matSort>
      <ng-container
        *ngFor="let columna of colocacionesContructorTabla"
        [matColumnDef]="columna.columnDef"
      >
        <th mat-header-cell *matHeaderCellDef>
          <ng-container
            *ngIf="columna.columnDef === 'acciones'; else headerTemplate"
          >
            <mat-checkbox
              (change)="toggleAllCheckboxes($event)"
              [checked]="isAllSelected()"
              [indeterminate]="isSomeSelected() && !isAllSelected()"
            >
            </mat-checkbox>
          </ng-container>
          <ng-template #headerTemplate>
            <ng-container *ngIf="columna.sortable; else noSort">
              <div mat-sort-header>
                <b>{{ columna.header | translate }}</b>
              </div>
            </ng-container>
            <ng-template #noSort>
              <div>
                <b>{{ columna.header | translate }}</b>
              </div>
            </ng-template>
          </ng-template>
        </th>

        <td mat-cell *matCellDef="let row">
          <ng-container
            *ngTemplateOutlet="
              cellTemplate;
              context: { $implicit: columna, row: row }
            "
          ></ng-container>
        </td>
        <ng-template #cellTemplate let-columna let-row="row">
          <ng-container [ngSwitch]="columna.columnDef">
            <div *ngSwitchCase="'acciones'">
              <mat-checkbox
                [(ngModel)]="row.isSelected"
                (change)="checkboxEspacioAcademico(row)"
              >
              </mat-checkbox>
            </div>
            <span *ngSwitchDefault>{{ columna.cell(row) }}</span>
          </ng-container>
        </ng-template>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="tablaColumnas"></tr>
      <tr mat-row *matRowDef="let row; columns: tablaColumnas"></tr>
    </table>
    <mat-paginator
      #paginator
      class="mt-3"
      [pageSizeOptions]="[5, 10, 20]"
      showFirstLastButtons
    ></mat-paginator>
  </div>
</div>
